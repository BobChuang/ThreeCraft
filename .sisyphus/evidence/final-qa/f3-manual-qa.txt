F3 真实手动 QA（FINAL 波次）
日期：2026-02-23
请求端口：4173
实际端口：4184
启动日志：.sisyphus/evidence/final-qa/f3-dev.log

执行方式（干净状态）：
1) 清空 localStorage/sessionStorage 后重新加载。
2) 使用 Playwright 真实进入「单人游戏」，执行任务场景、跨任务集成、边界用例、Classic 向后兼容验证。
3) 采集控制台日志与网络日志。

证据文件：
- .sisyphus/evidence/final-qa/f3-console.log
- .sisyphus/evidence/final-qa/f3-network.log

任务 QA 场景结果：
1. 单机启动并加载 NPC：通过（npcCount=10）
2. 生存 HUD 显示：失败（contains HP/HUNGER text 断言未通过）
3. AI 决策日志可见：失败（missing）
4. NPC 过滤列表完整：失败（optionCount=0）
5. 附身 HUD 文案切换：失败（possess=true, mode=空, release=true）
6. 单机持久化保存可执行：通过（saveNow=[object Object]）

跨任务集成结果：
1. NPC AI + 生存 + HUD 联动：失败
2. 生存系统与引擎状态同步：通过（hp 100 -> 95）
3. 持久化快照落盘：通过（snapshotBytes=10800）

边界用例结果：
1. 空背包死亡：已测，结果通过（inventoryTotal=0, dead=true）
2. 同时尝试附身：已测，结果通过（first=true, second=false）
3. 快速方块编辑：已测，结果失败（editFailed=true）
4. NPC 路径失效：已测，结果通过（path=null）

Classic 向后兼容：
- 通过。通过控制器重启并设置 `config.weather=0` 触发 Classic 兼容验证（classicDetail=restart with config.weather=0）。

控制台/噪声记录：
- 已知基线噪声：`registerSW.js` 404 / non-module 相关问题持续出现（本轮日志中仍可见）。
- 本轮新增关注：`TypeError: Cannot read properties of undefined (reading 'blocks')` 在 f3-console.log 中高频出现（182 次匹配），与“快速方块编辑”边界用例失败一致，需在后续任务排查。

结论：F3 本轮手动 QA 未通过（存在多个场景失败 + 1 个边界用例失败）。

场景 [2/6 通过] | 集成 [2/3] | 边界用例 [4 已测] | 向后兼容 [通过] | 结论
